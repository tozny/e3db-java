<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_131) on Tue Dec 05 10:34:27 PST 2017 -->
<title>Client (E3DB API Client)</title>
<meta name="date" content="2017-12-05">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Client (E3DB API Client)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":9,"i7":9,"i8":10,"i9":10,"i10":9,"i11":9,"i12":10,"i13":41,"i14":10,"i15":10,"i16":9,"i17":9,"i18":10,"i19":10,"i20":10,"i21":10,"i22":10,"i23":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"],32:["t6","Deprecated Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../com/tozny/e3db/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/tozny/e3db/CipherWithNonce.html" title="class in com.tozny.e3db"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../com/tozny/e3db/ClientBuilder.html" title="class in com.tozny.e3db"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/tozny/e3db/Client.html" target="_top">Frames</a></li>
<li><a href="Client.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.tozny.e3db</div>
<h2 title="Class Client" class="title">Class Client</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>Object</li>
<li>
<ul class="inheritance">
<li>com.tozny.e3db.Client</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">Client</span>
extends Object</pre>
<div class="block">Implements interactions with E3DB.

 <p>This class provides all communication with E3DB. Use it to read, write, update, delete and
 query records. It can also be used to add and remove sharing rules (through the <code>share</code> and <code>revoke</code>
 methods).

 <h1>Asynchronous Result Handling</h1>
 Most methods in this class have a <code>void</code> return type, and instead return results via a callback argument of type <a href="../../../com/tozny/e3db/ResultHandler.html" title="interface in com.tozny.e3db"><code>ResultHandler</code></a>.
 All E3DB network communication occurs on a background thread (created by the class). Results are delivered via the callback argument given. On Android,
 results are delivered on the UI thread. On all other platforms, results are delivered on the same background thread that performed the E3DB operation.

 <p>Note that no E3DB operations have a defined timeout &mdash; your application is responsible for setting timeouts and performing appropriate action.

 <h2><i>ResultHandler</i> &amp; <i>Result</i> Values</h2>
 The <a href="../../../com/tozny/e3db/ResultHandler.html" title="interface in com.tozny.e3db"><code>ResultHandler</code></a> callback accepts a <a href="../../../com/tozny/e3db/Result.html" title="interface in com.tozny.e3db"><code>Result</code></a> value, which signals whether an error occurred or if the operation completed
 successfully. The <a href="../../../com/tozny/e3db/Result.html#isError--"><code>Result.isError()</code></a> method will return <code>true</code> if some error
 occurred. If not, <a href="../../../com/tozny/e3db/Result.html#asValue--"><code>Result.asValue()</code></a> will give the value of the operation that occurred.

 <p>More details are available on the documentation for <a href="../../../com/tozny/e3db/Result.html" title="interface in com.tozny.e3db"><code>Result</code></a>.

 <h1>Registering a Client</h1>
 Registration requires a "token," which associates each
 client with your Tozny account. Before using the SDK, go to <a href="https://console.tozny.com">https://console.tozny.com</a>,
 create an account, and go to
 the "Manage Clients" section. Click the "Create Token" button under
 the "Client Registration Tokens" heading. Use the token value created to register
 new clients. Note that this value is not
 meant to be secret and is safe to embed in your app.

 <p>The <a href="../../../com/tozny/e3db/Client.html#register-java.lang.String-java.lang.String-java.lang.String-com.tozny.e3db.ResultHandler-"><code>register(String, String, String, ResultHandler)</code></a> method can be used to
 register a client. After registration, save the resulting credentials for use later.

 <h1>Creating a Client</h1>
 Use the <a href="../../../com/tozny/e3db/ClientBuilder.html" title="class in com.tozny.e3db"><code>ClientBuilder</code></a> class to create a <a href="../../../com/tozny/e3db/Client.html" title="class in com.tozny.e3db"><code>Client</code></a> instance from stored credentials. The
 convenience method <a href="../../../com/tozny/e3db/ClientBuilder.html#fromConfig-com.tozny.e3db.Config-"><code>ClientBuilder.fromConfig(Config)</code></a> makes it easy to load all client
 information from one location. The
 <a href="../../../com/tozny/e3db/Config.html" title="class in com.tozny.e3db"><code>Config</code></a> class also provides methods for converting credentials to and from JSON.

 <p>However, <b>ALWAYS</b> be sure to store client credentials securely. Those are the username,
 password, and private key used by the <a href="../../../com/tozny/e3db/Client.html" title="class in com.tozny.e3db"><code>Client</code></a> instance!

 <h1>Write, Update and Delete Records</h1>

 Records can be written with the <a href="../../../com/tozny/e3db/Client.html#write-java.lang.String-com.tozny.e3db.RecordData-java.util.Map-com.tozny.e3db.ResultHandler-"><code>write(String, RecordData, Map, ResultHandler)</code></a> method,
 updated with <a href="../../../com/tozny/e3db/Client.html#update-com.tozny.e3db.RecordMeta-com.tozny.e3db.RecordData-java.util.Map-com.tozny.e3db.ResultHandler-"><code>update(RecordMeta, RecordData, Map, ResultHandler)</code></a>, and deleted with <a href="../../../com/tozny/e3db/Client.html#delete-java.util.UUID-java.lang.String-com.tozny.e3db.ResultHandler-"><code>delete(UUID, String, ResultHandler)</code></a>.

 <h1>Reading &amp; Querying Records</h1>

 You can read a single record with the <a href="../../../com/tozny/e3db/Client.html#read-java.util.UUID-com.tozny.e3db.ResultHandler-"><code>read(UUID, ResultHandler)</code></a> method.

 <p>Multiple records (matching some criteria) can be read using the <a href="../../../com/tozny/e3db/Client.html#query-com.tozny.e3db.QueryParams-com.tozny.e3db.ResultHandler-"><code>query(QueryParams, ResultHandler)</code></a> method. You must pass a <a href="../../../com/tozny/e3db/QueryParams.html" title="class in com.tozny.e3db"><code>QueryParams</code></a> instance
 to specify the selection critera for records; use the <a href="../../../com/tozny/e3db/QueryParamsBuilder.html" title="class in com.tozny.e3db"><code>QueryParamsBuilder</code></a> object to build the query.

 <h2>Pagination</h2>
 Query result pagination depends on the <a href="../../../com/tozny/e3db/QueryResponse.html#last--"><code>QueryResponse.last()</code></a> value, which returns an index indicating the last record
 in a given page of results. Pass the <code>last()</code> value obtained to the <a href="../../../com/tozny/e3db/QueryParamsBuilder.html#setAfter-long-"><code>QueryParamsBuilder.setAfter(long)</code></a>) method to
 obtain records following the last record.

 <h1>Sharing</h1>
 Sharing allows one client to give read access to a set of that client's records to another client, without compromising end-to-end encryption. To share
 records, a client must know the ID of the client they wish to share with. The SDK does not provide support for looking up client IDs - you will have to
 implement such support out of band.

 <p>To share records, use the <a href="../../../com/tozny/e3db/Client.html#share-java.lang.String-java.util.UUID-com.tozny.e3db.ResultHandler-"><code>share(String, UUID, ResultHandler)</code></a> method. To remove sharing access, use the <a href="../../../com/tozny/e3db/Client.html#revoke-java.lang.String-java.util.UUID-com.tozny.e3db.ResultHandler-"><code>revoke(String, UUID, ResultHandler)</code></a>} method.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t6" class="tableTab"><span><a href="javascript:show(32);">Deprecated Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>UUID</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/tozny/e3db/Client.html#clientId--">clientId</a></span>()</code>
<div class="block">The ID of this client.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/tozny/e3db/Client.html#createWriterKey-java.lang.String-com.tozny.e3db.ResultHandler-">createWriterKey</a></span>(String&nbsp;type,
               <a href="../../../com/tozny/e3db/ResultHandler.html" title="interface in com.tozny.e3db">ResultHandler</a>&lt;<a href="../../../com/tozny/e3db/EAKInfo.html" title="interface in com.tozny.e3db">EAKInfo</a>&gt;&nbsp;handleResult)</code>
<div class="block">Creates (or retrieves) a key that can be used to locally encrypt records.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="../../../com/tozny/e3db/Record.html" title="interface in com.tozny.e3db">Record</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/tozny/e3db/Client.html#decryptExisting-com.tozny.e3db.Record-com.tozny.e3db.EAKInfo-">decryptExisting</a></span>(<a href="../../../com/tozny/e3db/Record.html" title="interface in com.tozny.e3db">Record</a>&nbsp;record,
               <a href="../../../com/tozny/e3db/EAKInfo.html" title="interface in com.tozny.e3db">EAKInfo</a>&nbsp;eakInfo)</code>
<div class="block">Decrypt a locally-encrypted record.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/tozny/e3db/Client.html#delete-java.util.UUID-java.lang.String-com.tozny.e3db.ResultHandler-">delete</a></span>(UUID&nbsp;recordId,
      String&nbsp;version,
      <a href="../../../com/tozny/e3db/ResultHandler.html" title="interface in com.tozny.e3db">ResultHandler</a>&lt;Void&gt;&nbsp;handleResult)</code>
<div class="block">Deletes a given record.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code><a href="../../../com/tozny/e3db/Record.html" title="interface in com.tozny.e3db">Record</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/tozny/e3db/Client.html#encryptExisting-com.tozny.e3db.Record-com.tozny.e3db.EAKInfo-">encryptExisting</a></span>(<a href="../../../com/tozny/e3db/Record.html" title="interface in com.tozny.e3db">Record</a>&nbsp;record,
               <a href="../../../com/tozny/e3db/EAKInfo.html" title="interface in com.tozny.e3db">EAKInfo</a>&nbsp;eakInfo)</code>
<div class="block">Encrypt an existing record for local storage.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code><a href="../../../com/tozny/e3db/Record.html" title="interface in com.tozny.e3db">Record</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/tozny/e3db/Client.html#encryptRecord-java.lang.String-com.tozny.e3db.RecordData-java.util.Map-com.tozny.e3db.EAKInfo-">encryptRecord</a></span>(String&nbsp;type,
             <a href="../../../com/tozny/e3db/RecordData.html" title="class in com.tozny.e3db">RecordData</a>&nbsp;data,
             Map&lt;String,String&gt;&nbsp;plain,
             <a href="../../../com/tozny/e3db/EAKInfo.html" title="interface in com.tozny.e3db">EAKInfo</a>&nbsp;eakInfo)</code>
<div class="block">Encrypt a record for local storage.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>static String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/tozny/e3db/Client.html#generateKey--">generateKey</a></span>()</code>
<div class="block">Generates a private key that can be used for Curve25519
 public-key encryption.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>static String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/tozny/e3db/Client.html#generateSigningKey--">generateSigningKey</a></span>()</code>
<div class="block">Generates a private key that can be used for Ed25519
 public-key signatures.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/tozny/e3db/Client.html#getIncomingSharing-com.tozny.e3db.ResultHandler-">getIncomingSharing</a></span>(<a href="../../../com/tozny/e3db/ResultHandler.html" title="interface in com.tozny.e3db">ResultHandler</a>&lt;List&lt;<a href="../../../com/tozny/e3db/IncomingSharingPolicy.html" title="class in com.tozny.e3db">IncomingSharingPolicy</a>&gt;&gt;&nbsp;handleResult)</code>
<div class="block">Get a list of record types shared with this client.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/tozny/e3db/Client.html#getOutgoingSharing-com.tozny.e3db.ResultHandler-">getOutgoingSharing</a></span>(<a href="../../../com/tozny/e3db/ResultHandler.html" title="interface in com.tozny.e3db">ResultHandler</a>&lt;List&lt;<a href="../../../com/tozny/e3db/OutgoingSharingPolicy.html" title="class in com.tozny.e3db">OutgoingSharingPolicy</a>&gt;&gt;&nbsp;handleResult)</code>
<div class="block">Get a list of record types shared by this client.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>static String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/tozny/e3db/Client.html#getPublicKey-java.lang.String-">getPublicKey</a></span>(String&nbsp;privateKey)</code>
<div class="block">Gets the public key for the given private key.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>static String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/tozny/e3db/Client.html#getPublicSigningKey-java.lang.String-">getPublicSigningKey</a></span>(String&nbsp;privateSigningKey)</code>
<div class="block">Gets the public signing key for the given private key.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/tozny/e3db/Client.html#getReaderKey-java.util.UUID-java.util.UUID-java.lang.String-com.tozny.e3db.ResultHandler-">getReaderKey</a></span>(UUID&nbsp;writerId,
            UUID&nbsp;userId,
            String&nbsp;type,
            <a href="../../../com/tozny/e3db/ResultHandler.html" title="interface in com.tozny.e3db">ResultHandler</a>&lt;<a href="../../../com/tozny/e3db/EAKInfo.html" title="interface in com.tozny.e3db">EAKInfo</a>&gt;&nbsp;handleResult)</code>
<div class="block">Retrieve a key for reading a shared record.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>static String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/tozny/e3db/Client.html#newPrivateKey--">newPrivateKey</a></span>()</code>
<div class="block"><span class="deprecatedLabel">Deprecated.</span>&nbsp;
<div class="block"><span class="deprecationComment">Use <a href="../../../com/tozny/e3db/Client.html#generateKey--"><code>generateKey()</code></a>  instead.</span></div>
</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/tozny/e3db/Client.html#query-com.tozny.e3db.QueryParams-com.tozny.e3db.ResultHandler-">query</a></span>(<a href="../../../com/tozny/e3db/QueryParams.html" title="class in com.tozny.e3db">QueryParams</a>&nbsp;params,
     <a href="../../../com/tozny/e3db/ResultHandler.html" title="interface in com.tozny.e3db">ResultHandler</a>&lt;<a href="../../../com/tozny/e3db/QueryResponse.html" title="interface in com.tozny.e3db">QueryResponse</a>&gt;&nbsp;handleResult)</code>
<div class="block">Get a list of records matching some criteria.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/tozny/e3db/Client.html#read-java.util.UUID-com.tozny.e3db.ResultHandler-">read</a></span>(UUID&nbsp;recordId,
    <a href="../../../com/tozny/e3db/ResultHandler.html" title="interface in com.tozny.e3db">ResultHandler</a>&lt;<a href="../../../com/tozny/e3db/Record.html" title="interface in com.tozny.e3db">Record</a>&gt;&nbsp;handleResult)</code>
<div class="block">Read a record.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/tozny/e3db/Client.html#register-java.lang.String-java.lang.String-java.lang.String-com.tozny.e3db.ResultHandler-">register</a></span>(String&nbsp;token,
        String&nbsp;clientName,
        String&nbsp;host,
        <a href="../../../com/tozny/e3db/ResultHandler.html" title="interface in com.tozny.e3db">ResultHandler</a>&lt;<a href="../../../com/tozny/e3db/Config.html" title="class in com.tozny.e3db">Config</a>&gt;&nbsp;handleResult)</code>
<div class="block">Registers a new client.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/tozny/e3db/Client.html#register-java.lang.String-java.lang.String-java.lang.String-java.lang.String-com.tozny.e3db.ResultHandler-">register</a></span>(String&nbsp;token,
        String&nbsp;clientName,
        String&nbsp;publicKey,
        String&nbsp;host,
        <a href="../../../com/tozny/e3db/ResultHandler.html" title="interface in com.tozny.e3db">ResultHandler</a>&lt;<a href="../../../com/tozny/e3db/ClientCredentials.html" title="interface in com.tozny.e3db">ClientCredentials</a>&gt;&nbsp;handleResult)</code>
<div class="block">Registers a new client with a given public key.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/tozny/e3db/Client.html#revoke-java.lang.String-java.util.UUID-com.tozny.e3db.ResultHandler-">revoke</a></span>(String&nbsp;type,
      UUID&nbsp;readerId,
      <a href="../../../com/tozny/e3db/ResultHandler.html" title="interface in com.tozny.e3db">ResultHandler</a>&lt;Void&gt;&nbsp;handleResult)</code>
<div class="block">Remove permission for another client to read records.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/tozny/e3db/Client.html#share-java.lang.String-java.util.UUID-com.tozny.e3db.ResultHandler-">share</a></span>(String&nbsp;type,
     UUID&nbsp;readerId,
     <a href="../../../com/tozny/e3db/ResultHandler.html" title="interface in com.tozny.e3db">ResultHandler</a>&lt;Void&gt;&nbsp;handleResult)</code>
<div class="block">Give another client the ability to read records.</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>&lt;T extends <a href="../../../com/tozny/e3db/Signable.html" title="interface in com.tozny.e3db">Signable</a>&gt;<br><a href="../../../com/tozny/e3db/SignedDocument.html" title="interface in com.tozny.e3db">SignedDocument</a>&lt;T&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/tozny/e3db/Client.html#sign-T-">sign</a></span>(T&nbsp;document)</code>
<div class="block">Derives a signature using this client's private Ed25519 key and the document given.</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/tozny/e3db/Client.html#update-com.tozny.e3db.RecordMeta-com.tozny.e3db.RecordData-java.util.Map-com.tozny.e3db.ResultHandler-">update</a></span>(<a href="../../../com/tozny/e3db/RecordMeta.html" title="interface in com.tozny.e3db">RecordMeta</a>&nbsp;recordMeta,
      <a href="../../../com/tozny/e3db/RecordData.html" title="class in com.tozny.e3db">RecordData</a>&nbsp;fields,
      Map&lt;String,String&gt;&nbsp;plain,
      <a href="../../../com/tozny/e3db/ResultHandler.html" title="interface in com.tozny.e3db">ResultHandler</a>&lt;<a href="../../../com/tozny/e3db/Record.html" title="interface in com.tozny.e3db">Record</a>&gt;&nbsp;handleResult)</code>
<div class="block">Replace the given record with new data and plaintext metadata.</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/tozny/e3db/Client.html#verify-com.tozny.e3db.SignedDocument-java.lang.String-">verify</a></span>(<a href="../../../com/tozny/e3db/SignedDocument.html" title="interface in com.tozny.e3db">SignedDocument</a>&nbsp;signedDocument,
      String&nbsp;publicSigningKey)</code>
<div class="block">Verifies that the signature attached to the document was:

 
 Produced by the holder of the private key associated with the <code>publicSigningKey</code> given.
 Derived from the document given.</div>
</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/tozny/e3db/Client.html#write-java.lang.String-com.tozny.e3db.RecordData-java.util.Map-com.tozny.e3db.ResultHandler-">write</a></span>(String&nbsp;type,
     <a href="../../../com/tozny/e3db/RecordData.html" title="class in com.tozny.e3db">RecordData</a>&nbsp;fields,
     Map&lt;String,String&gt;&nbsp;plain,
     <a href="../../../com/tozny/e3db/ResultHandler.html" title="interface in com.tozny.e3db">ResultHandler</a>&lt;<a href="../../../com/tozny/e3db/Record.html" title="interface in com.tozny.e3db">Record</a>&gt;&nbsp;handleResult)</code>
<div class="block">Write a new record.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="newPrivateKey--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newPrivateKey</h4>
<pre>@Deprecated
public static&nbsp;String&nbsp;newPrivateKey()</pre>
<div class="block"><span class="deprecatedLabel">Deprecated.</span>&nbsp;<span class="deprecationComment">Use <a href="../../../com/tozny/e3db/Client.html#generateKey--"><code>generateKey()</code></a>  instead.</span></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A Base64URL-encoded string representing the new private key.</dd>
</dl>
</li>
</ul>
<a name="generateKey--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>generateKey</h4>
<pre>public static&nbsp;String&nbsp;generateKey()</pre>
<div class="block">Generates a private key that can be used for Curve25519
 public-key encryption.

 <p>The associated public key can be retrieved using <a href="../../../com/tozny/e3db/Client.html#getPublicKey-java.lang.String-"><code>getPublicKey(String)</code></a>.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A Base64URL-encoded string representing the new private key.</dd>
</dl>
</li>
</ul>
<a name="getPublicKey-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPublicKey</h4>
<pre>public static&nbsp;String&nbsp;getPublicKey(String&nbsp;privateKey)</pre>
<div class="block">Gets the public key for the given private key.

 <p>The private key must be a Base64URL-encoded string.

 The returned value represents the key as a Base64URL-encoded string.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>privateKey</code> - Curve25519 private key as a Base64URL-encoded string.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The public key portion of the private key, as a Base64URL-encoded string.</dd>
</dl>
</li>
</ul>
<a name="generateSigningKey--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>generateSigningKey</h4>
<pre>public static&nbsp;String&nbsp;generateSigningKey()</pre>
<div class="block">Generates a private key that can be used for Ed25519
 public-key signatures.

 <p>The associated public key can be retrieved using <a href="../../../com/tozny/e3db/Client.html#getPublicKey-java.lang.String-"><code>getPublicKey(String)</code></a>.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A Base64URL-encoded string representing the new private key.</dd>
</dl>
</li>
</ul>
<a name="getPublicSigningKey-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPublicSigningKey</h4>
<pre>public static&nbsp;String&nbsp;getPublicSigningKey(String&nbsp;privateSigningKey)</pre>
<div class="block">Gets the public signing key for the given private key.

 <p>The private key must be a Base64URL-encoded string.

 The returned value represents the key as a Base64URL-encoded string.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>privateSigningKey</code> - Ed25519 private key as a Base64URL-encoded string.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The public key portion of the private key, as a Base64URL-encoded string.</dd>
</dl>
</li>
</ul>
<a name="clientId--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clientId</h4>
<pre>public&nbsp;UUID&nbsp;clientId()</pre>
<div class="block">The ID of this client.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>clientId.</dd>
</dl>
</li>
</ul>
<a name="register-java.lang.String-java.lang.String-java.lang.String-com.tozny.e3db.ResultHandler-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>register</h4>
<pre>public static&nbsp;void&nbsp;register(String&nbsp;token,
                            String&nbsp;clientName,
                            String&nbsp;host,
                            <a href="../../../com/tozny/e3db/ResultHandler.html" title="interface in com.tozny.e3db">ResultHandler</a>&lt;<a href="../../../com/tozny/e3db/Config.html" title="class in com.tozny.e3db">Config</a>&gt;&nbsp;handleResult)</pre>
<div class="block">Registers a new client. This method creates a new public/private key pair for the client
 to use when encrypting and decrypting records.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>token</code> - Registration token obtained from the Tozny console at <a href="https://console.tozny.com">https://console.tozny.com</a>.</dd>
<dd><code>clientName</code> - Name of the client; for informational purposes only.</dd>
<dd><code>host</code> - Host to register with. Should be <code>https://api.e3db.com</code>.</dd>
<dd><code>handleResult</code> - Handles the result of registration. The <a href="../../../com/tozny/e3db/Config.html" title="class in com.tozny.e3db"><code>Config</code></a> value can be converted to JSON, written to
                     a secure location, and loaded later.</dd>
</dl>
</li>
</ul>
<a name="register-java.lang.String-java.lang.String-java.lang.String-java.lang.String-com.tozny.e3db.ResultHandler-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>register</h4>
<pre>public static&nbsp;void&nbsp;register(String&nbsp;token,
                            String&nbsp;clientName,
                            String&nbsp;publicKey,
                            String&nbsp;host,
                            <a href="../../../com/tozny/e3db/ResultHandler.html" title="interface in com.tozny.e3db">ResultHandler</a>&lt;<a href="../../../com/tozny/e3db/ClientCredentials.html" title="interface in com.tozny.e3db">ClientCredentials</a>&gt;&nbsp;handleResult)</pre>
<div class="block">Registers a new client with a given public key.

 <p>This method does not create a private/public key pair; rather, the public key should be provided
 by the caller.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>token</code> - Registration token obtained from the Tozny console at <a href="https://console.tozny.com">https://console.tozny.com</a>.</dd>
<dd><code>clientName</code> - Name of the client; for informational purposes only.</dd>
<dd><code>publicKey</code> - A Base64URL-encoded string representing the public key associated with the client. Should be based on a Curve25519
                  private key. Consider using <a href="../../../com/tozny/e3db/Client.html#generateKey--"><code>generateKey()</code></a> to generate a private key.</dd>
<dd><code>host</code> - Host to register with. Should be <code>https://api.e3db.com</code>.</dd>
<dd><code>handleResult</code> - Handles the result of registration.</dd>
</dl>
</li>
</ul>
<a name="write-java.lang.String-com.tozny.e3db.RecordData-java.util.Map-com.tozny.e3db.ResultHandler-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>write</h4>
<pre>public&nbsp;void&nbsp;write(String&nbsp;type,
                  <a href="../../../com/tozny/e3db/RecordData.html" title="class in com.tozny.e3db">RecordData</a>&nbsp;fields,
                  Map&lt;String,String&gt;&nbsp;plain,
                  <a href="../../../com/tozny/e3db/ResultHandler.html" title="interface in com.tozny.e3db">ResultHandler</a>&lt;<a href="../../../com/tozny/e3db/Record.html" title="interface in com.tozny.e3db">Record</a>&gt;&nbsp;handleResult)</pre>
<div class="block">Write a new record.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>type</code> - Describes the type of the record (e.g., "contact_info", "credit_card", etc.).</dd>
<dd><code>fields</code> - Values to encrypt and store.</dd>
<dd><code>plain</code> - Additional, user-defined metadata that will <b>NOT</b> be encrypted. Can be null.</dd>
<dd><code>handleResult</code> - Result of the operation. If successful, returns the newly written record .</dd>
</dl>
</li>
</ul>
<a name="update-com.tozny.e3db.RecordMeta-com.tozny.e3db.RecordData-java.util.Map-com.tozny.e3db.ResultHandler-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>update</h4>
<pre>public&nbsp;void&nbsp;update(<a href="../../../com/tozny/e3db/RecordMeta.html" title="interface in com.tozny.e3db">RecordMeta</a>&nbsp;recordMeta,
                   <a href="../../../com/tozny/e3db/RecordData.html" title="class in com.tozny.e3db">RecordData</a>&nbsp;fields,
                   Map&lt;String,String&gt;&nbsp;plain,
                   <a href="../../../com/tozny/e3db/ResultHandler.html" title="interface in com.tozny.e3db">ResultHandler</a>&lt;<a href="../../../com/tozny/e3db/Record.html" title="interface in com.tozny.e3db">Record</a>&gt;&nbsp;handleResult)</pre>
<div class="block">Replace the given record with new data and plaintext metadata.

 <p>The <code>recordMeta</code> argument is only used to obtain
 information about the record to replace. No metadata updates by
 the client are allowed.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>recordMeta</code> - Metadata for the record being replaced
                   (obtained from a previous <code>write</code> or
                   <code>query</code> call).</dd>
<dd><code>fields</code> - Field names and values. Wrapped in a <a href="../../../com/tozny/e3db/RecordData.html" title="class in com.tozny.e3db"><code>RecordData</code></a> instance to prevent confusing with the
               <code>plain</code> parameter.</dd>
<dd><code>plain</code> - Any metadata associated with the record that will
              <b>NOT</b> be encrypted. If <code>null</code>, existing
              metadata will be removed.</dd>
<dd><code>handleResult</code> - If the update succeeds, returns the updated
                     record. If the update fails due to a version
                     conflict, the value passed to the <a href="../../../com/tozny/e3db/ResultHandler.html#handle-com.tozny.e3db.Result-"><code>ResultHandler.handle(Result)</code></a>} method return
                     an instance of <a href="../../../com/tozny/e3db/E3DBVersionException.html" title="class in com.tozny.e3db"><code>E3DBVersionException</code></a>
                     when <code>asError().error()</code> is called.</dd>
</dl>
</li>
</ul>
<a name="delete-java.util.UUID-java.lang.String-com.tozny.e3db.ResultHandler-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>delete</h4>
<pre>public&nbsp;void&nbsp;delete(UUID&nbsp;recordId,
                   String&nbsp;version,
                   <a href="../../../com/tozny/e3db/ResultHandler.html" title="interface in com.tozny.e3db">ResultHandler</a>&lt;Void&gt;&nbsp;handleResult)</pre>
<div class="block">Deletes a given record.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>recordId</code> - ID of the record to delete. Obtained from <a href="../../../com/tozny/e3db/RecordMeta.html#recordId--"><code>RecordMeta.recordId()</code></a>.</dd>
<dd><code>version</code> - Version associated with the record. Obtained from <a href="../../../com/tozny/e3db/RecordMeta.html#version--"><code>RecordMeta.version()</code></a>.</dd>
<dd><code>handleResult</code> - If the deletion succeeds, returns no useful information. If the delete fails due to a version conflict, the value passed to the <a href="../../../com/tozny/e3db/ResultHandler.html#handle-com.tozny.e3db.Result-"><code>ResultHandler.handle(Result)</code></a>} method return an instance of
 <a href="../../../com/tozny/e3db/E3DBVersionException.html" title="class in com.tozny.e3db"><code>E3DBVersionException</code></a> when <code>asError().error()</code> is called.</dd>
</dl>
</li>
</ul>
<a name="read-java.util.UUID-com.tozny.e3db.ResultHandler-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>read</h4>
<pre>public&nbsp;void&nbsp;read(UUID&nbsp;recordId,
                 <a href="../../../com/tozny/e3db/ResultHandler.html" title="interface in com.tozny.e3db">ResultHandler</a>&lt;<a href="../../../com/tozny/e3db/Record.html" title="interface in com.tozny.e3db">Record</a>&gt;&nbsp;handleResult)</pre>
<div class="block">Read a record.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>recordId</code> - ID of the record to read. Especially useful with <code>query</code> results that do not include
                 the actual data.</dd>
<dd><code>handleResult</code> - If successful, return the record read.</dd>
</dl>
</li>
</ul>
<a name="query-com.tozny.e3db.QueryParams-com.tozny.e3db.ResultHandler-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>query</h4>
<pre>public&nbsp;void&nbsp;query(<a href="../../../com/tozny/e3db/QueryParams.html" title="class in com.tozny.e3db">QueryParams</a>&nbsp;params,
                  <a href="../../../com/tozny/e3db/ResultHandler.html" title="interface in com.tozny.e3db">ResultHandler</a>&lt;<a href="../../../com/tozny/e3db/QueryResponse.html" title="interface in com.tozny.e3db">QueryResponse</a>&gt;&nbsp;handleResult)</pre>
<div class="block">Get a list of records matching some criteria.

 <p>By default, results are limited to 50 records and do not include encrypted data (a separate
 read must be made to get the data for a record).</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>params</code> - The criteria to filter records by. Use the <a href="../../../com/tozny/e3db/QueryParamsBuilder.html" title="class in com.tozny.e3db"><code>QueryParamsBuilder</code></a> class to make this object.</dd>
<dd><code>handleResult</code> - If successful, returns a page of results. The <a href="../../../com/tozny/e3db/QueryResponse.html#last--"><code>QueryResponse.last()</code></a> method can be used
                     in conjunction with the <a href="../../../com/tozny/e3db/QueryParamsBuilder.html#setAfter-long-"><code>QueryParamsBuilder.setAfter(long)</code></a> method to implement pagination.</dd>
</dl>
</li>
</ul>
<a name="share-java.lang.String-java.util.UUID-com.tozny.e3db.ResultHandler-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>share</h4>
<pre>public&nbsp;void&nbsp;share(String&nbsp;type,
                  UUID&nbsp;readerId,
                  <a href="../../../com/tozny/e3db/ResultHandler.html" title="interface in com.tozny.e3db">ResultHandler</a>&lt;Void&gt;&nbsp;handleResult)</pre>
<div class="block">Give another client the ability to read records.

 <p>This operation gives read access for records of <code>type</code>, written by this client, to the
 the recipient specified by <code>readerId</code>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>type</code> - The type of records to grant access to.</dd>
<dd><code>readerId</code> - ID of client to give access to.</dd>
<dd><code>handleResult</code> - If successful, returns no useful information (except that the operation
                     completed).</dd>
</dl>
</li>
</ul>
<a name="revoke-java.lang.String-java.util.UUID-com.tozny.e3db.ResultHandler-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>revoke</h4>
<pre>public&nbsp;void&nbsp;revoke(String&nbsp;type,
                   UUID&nbsp;readerId,
                   <a href="../../../com/tozny/e3db/ResultHandler.html" title="interface in com.tozny.e3db">ResultHandler</a>&lt;Void&gt;&nbsp;handleResult)</pre>
<div class="block">Remove permission for another client to read records.

 <p>This operation removes previously granted permission for the client specified by <code>readerId</code> to
 read records, written by this client, of type <code>type</code>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>type</code> - The type of records to remove access to.</dd>
<dd><code>readerId</code> - ID of client to remove access from.</dd>
<dd><code>handleResult</code> - If successful, returns no useful information (except that the operation
                     completed).</dd>
</dl>
</li>
</ul>
<a name="getIncomingSharing-com.tozny.e3db.ResultHandler-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getIncomingSharing</h4>
<pre>public&nbsp;void&nbsp;getIncomingSharing(<a href="../../../com/tozny/e3db/ResultHandler.html" title="interface in com.tozny.e3db">ResultHandler</a>&lt;List&lt;<a href="../../../com/tozny/e3db/IncomingSharingPolicy.html" title="class in com.tozny.e3db">IncomingSharingPolicy</a>&gt;&gt;&nbsp;handleResult)</pre>
<div class="block">Get a list of record types shared with this client.

 <p>This operation lists all record types shared with this client, as well as the client (writer)
 sharing those records.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>handleResult</code> - If successful, returns a list of records types shared with this client. The resulting list may be empty but never null.</dd>
</dl>
</li>
</ul>
<a name="getOutgoingSharing-com.tozny.e3db.ResultHandler-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getOutgoingSharing</h4>
<pre>public&nbsp;void&nbsp;getOutgoingSharing(<a href="../../../com/tozny/e3db/ResultHandler.html" title="interface in com.tozny.e3db">ResultHandler</a>&lt;List&lt;<a href="../../../com/tozny/e3db/OutgoingSharingPolicy.html" title="class in com.tozny.e3db">OutgoingSharingPolicy</a>&gt;&gt;&nbsp;handleResult)</pre>
<div class="block">Get a list of record types shared by this client.

 <p>This operation returns a list of record types shared by this client, including the
 client (reader) that the records are shared with.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>handleResult</code> - If successful, returns a list of record types that this client has shared. The resulting list may be empty but will never be null.</dd>
</dl>
</li>
</ul>
<a name="createWriterKey-java.lang.String-com.tozny.e3db.ResultHandler-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createWriterKey</h4>
<pre>public&nbsp;void&nbsp;createWriterKey(String&nbsp;type,
                            <a href="../../../com/tozny/e3db/ResultHandler.html" title="interface in com.tozny.e3db">ResultHandler</a>&lt;<a href="../../../com/tozny/e3db/EAKInfo.html" title="interface in com.tozny.e3db">EAKInfo</a>&gt;&nbsp;handleResult)</pre>
<div class="block">Creates (or retrieves) a key that can be used to locally encrypt records.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>type</code> - Type of the records to encrypt.</dd>
<dd><code>handleResult</code> - Handle the EAKInfo object retrieved.</dd>
</dl>
</li>
</ul>
<a name="getReaderKey-java.util.UUID-java.util.UUID-java.lang.String-com.tozny.e3db.ResultHandler-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getReaderKey</h4>
<pre>public&nbsp;void&nbsp;getReaderKey(UUID&nbsp;writerId,
                         UUID&nbsp;userId,
                         String&nbsp;type,
                         <a href="../../../com/tozny/e3db/ResultHandler.html" title="interface in com.tozny.e3db">ResultHandler</a>&lt;<a href="../../../com/tozny/e3db/EAKInfo.html" title="interface in com.tozny.e3db">EAKInfo</a>&gt;&nbsp;handleResult)</pre>
<div class="block">Retrieve a key for reading a shared record.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>writerId</code> - ID of the client that wrote the record.</dd>
<dd><code>userId</code> - ID of the user associated with the record (normally equal to <code>writerId</code>).</dd>
<dd><code>type</code> - Type of record that was shared.</dd>
<dd><code>handleResult</code> - Handle the EAKInfo object retrieved.</dd>
</dl>
</li>
</ul>
<a name="decryptExisting-com.tozny.e3db.Record-com.tozny.e3db.EAKInfo-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>decryptExisting</h4>
<pre>public&nbsp;<a href="../../../com/tozny/e3db/Record.html" title="interface in com.tozny.e3db">Record</a>&nbsp;decryptExisting(<a href="../../../com/tozny/e3db/Record.html" title="interface in com.tozny.e3db">Record</a>&nbsp;record,
                              <a href="../../../com/tozny/e3db/EAKInfo.html" title="interface in com.tozny.e3db">EAKInfo</a>&nbsp;eakInfo)</pre>
<div class="block">Decrypt a locally-encrypted record.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>record</code> - The record to encrypt.</dd>
<dd><code>eakInfo</code> - The key to use for encrypting.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The deccrypted record.</dd>
</dl>
</li>
</ul>
<a name="encryptExisting-com.tozny.e3db.Record-com.tozny.e3db.EAKInfo-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>encryptExisting</h4>
<pre>public&nbsp;<a href="../../../com/tozny/e3db/Record.html" title="interface in com.tozny.e3db">Record</a>&nbsp;encryptExisting(<a href="../../../com/tozny/e3db/Record.html" title="interface in com.tozny.e3db">Record</a>&nbsp;record,
                              <a href="../../../com/tozny/e3db/EAKInfo.html" title="interface in com.tozny.e3db">EAKInfo</a>&nbsp;eakInfo)</pre>
<div class="block">Encrypt an existing record for local storage.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>record</code> - The record to encrypt.</dd>
<dd><code>eakInfo</code> - The key to use for encrypting.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The encrypted record. Note that server-provided metadata values will not throw if accessed.</dd>
</dl>
</li>
</ul>
<a name="encryptRecord-java.lang.String-com.tozny.e3db.RecordData-java.util.Map-com.tozny.e3db.EAKInfo-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>encryptRecord</h4>
<pre>public&nbsp;<a href="../../../com/tozny/e3db/Record.html" title="interface in com.tozny.e3db">Record</a>&nbsp;encryptRecord(String&nbsp;type,
                            <a href="../../../com/tozny/e3db/RecordData.html" title="class in com.tozny.e3db">RecordData</a>&nbsp;data,
                            Map&lt;String,String&gt;&nbsp;plain,
                            <a href="../../../com/tozny/e3db/EAKInfo.html" title="interface in com.tozny.e3db">EAKInfo</a>&nbsp;eakInfo)</pre>
<div class="block">Encrypt a record for local storage.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>type</code> - The type of the record.</dd>
<dd><code>data</code> - Fields to encrypt.</dd>
<dd><code>plain</code> - Plaintext metadata which will be stored with the record.</dd>
<dd><code>eakInfo</code> - The key to use for encrypting.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The encrypted record. Note that server-provided metadata values (<code>recordId</code>, <code>createdd</code>, etc.)
 will throw if accessed.</dd>
</dl>
</li>
</ul>
<a name="sign-com.tozny.e3db.Signable-">
<!--   -->
</a><a name="sign-T-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sign</h4>
<pre>public&nbsp;&lt;T extends <a href="../../../com/tozny/e3db/Signable.html" title="interface in com.tozny.e3db">Signable</a>&gt;&nbsp;<a href="../../../com/tozny/e3db/SignedDocument.html" title="interface in com.tozny.e3db">SignedDocument</a>&lt;T&gt;&nbsp;sign(T&nbsp;document)</pre>
<div class="block">Derives a signature using this client's private Ed25519 key and the document given.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - T.</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>document</code> - The document to sign. Consider using <a href="../../../com/tozny/e3db/LocalRecord.html" title="class in com.tozny.e3db"><code>LocalRecord</code></a>, which implements the
                 <a href="../../../com/tozny/e3db/Signable.html" title="interface in com.tozny.e3db"><code>Signable</code></a> interface.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A <a href="../../../com/tozny/e3db/SignedDocument.html" title="interface in com.tozny.e3db"><code>SignedDocument</code></a> instance, holding the document given and a signature
 for it.</dd>
</dl>
</li>
</ul>
<a name="verify-com.tozny.e3db.SignedDocument-java.lang.String-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>verify</h4>
<pre>public&nbsp;boolean&nbsp;verify(<a href="../../../com/tozny/e3db/SignedDocument.html" title="interface in com.tozny.e3db">SignedDocument</a>&nbsp;signedDocument,
                      String&nbsp;publicSigningKey)</pre>
<div class="block">Verifies that the signature attached to the document was:

 <ul>
 <li>Produced by the holder of the private key associated with the <code>publicSigningKey</code> given.</li>
 <li>Derived from the document given.
 </ul></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>signedDocument</code> - Document and signature to verify.</dd>
<dd><code>publicSigningKey</code> - Public portion of the Ed25519 key used to produce the signature, as a Base64URL-encoded
                         string.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if the signature matches; <code>false</code> otherwise.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../com/tozny/e3db/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/tozny/e3db/CipherWithNonce.html" title="class in com.tozny.e3db"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../com/tozny/e3db/ClientBuilder.html" title="class in com.tozny.e3db"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/tozny/e3db/Client.html" target="_top">Frames</a></li>
<li><a href="Client.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
